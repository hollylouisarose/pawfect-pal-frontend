(this["webpackJsonpproject-3-frontend"]=this["webpackJsonpproject-3-frontend"]||[]).push([[0],{101:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(23),i=c.n(n),r=(c(60),c(15)),l=c(11);function o(e){return window.localStorage.getItem("token")}function d(){window.localStorage.removeItem("token")}function j(){var e=o();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(atob(t[1]))}function b(){var e=j();return!!e&&Math.round(Date.now()/1e3)<e.exp}function h(){return j().sub}function u(e){var t=j();return!!t&&t.sub===e}var m=c(0);var O=function(){var e=b(),t=Object(l.h)().pathname,c=Object(l.g)();return s.a.useEffect((function(){}),[t]),Object(m.jsx)("nav",{className:"navbar",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"navbar-brand",children:[Object(m.jsx)("div",{className:"navbar-item",children:Object(m.jsx)(r.b,{to:"/",children:"Home"})}),Object(m.jsx)("div",{className:"navbar-item",children:Object(m.jsx)(r.b,{to:"/dogs",children:"See all dogs"})}),Object(m.jsx)("div",{className:"navbar-item",children:Object(m.jsx)(r.b,{to:"/map",children:"Adopt a dog"})}),!e&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"navbar-item",children:Object(m.jsx)(r.b,{to:"/register",children:"Sign up"})}),Object(m.jsx)("div",{className:"navbar-item",children:Object(m.jsx)(r.b,{to:"/login",children:"Log in"})})]}),e&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"navbar-item",children:Object(m.jsx)(r.b,{to:"/favourites",children:"Favourites"})}),Object(m.jsx)("div",{className:"navbar-item",children:Object(m.jsx)(r.b,{to:"/dogs/new",children:"Add a dog"})}),Object(m.jsx)("div",{className:"navbar-item",children:Object(m.jsx)("button",{className:"button",onClick:function(){d(),c.push("/")},children:"Log Out"})})]})]})})})};var x=function(){return Object(m.jsx)("section",{className:"hero is-fullheight",children:Object(m.jsxs)("div",{className:"hero-body ",children:[Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"Welcome to Pawfect Pal!"})}),Object(m.jsx)("div",{children:Object(m.jsx)("p",{children:"Head to see all dogs to find your new best friend"})})]})})},p=c(7),v=c(55),f=["component"];var g=function(e){var t=e.component,c=Object(v.a)(e,f);return b()?Object(m.jsx)(l.b,Object(p.a)(Object(p.a)({},c),{},{component:t})):(d(),Object(m.jsx)(l.a,{to:"/login"}))},N=c(14),w=c(8),C=c.n(w),k=c(13),y=c(12),S=c(41),G=(c(70),c(16)),I=c.n(G),L="https://pawfectpal.herokuapp.com/api";function W(){return{headers:{Authorization:"Bearer ".concat(o())}}}var D={breed:"",origin:"",image:"",description:"",size:"",walkLength:null,isGoodWithCats:!1,isGoodWithChildren:!1,isCityDog:!1,characteristics:[]},B=[{value:"Lively",label:"Lively"},{value:"Devoted",label:"Devoted"},{value:"Alert",label:"Alert"},{value:"Playful",label:"Playful"},{value:"Sensitive",label:"Sensitive"},{value:"Intelligent",label:"Intelligent"},{value:"Friendly",label:"Friendly"},{value:"Gentle",label:"Gentle"},{value:"Confident",label:"Confident"},{value:"Active",label:"Active"},{value:"Protective",label:"Protective"}],z={username:"",email:"",password:"",passwordConfirmation:""},A={email:"",password:""};function F(){return I.a.get("".concat(L,"/dogs"))}function E(e){return I.a.get("".concat(L,"/dogs/").concat(e))}function T(e,t){return I.a.post("".concat(L,"/dogs/").concat(e,"/favourite"),t,W())}function H(e,t){return I.a.post("".concat(L,"/dogs/").concat(e,"/comments"),t,W())}function P(e,t){return I.a.delete("".concat(L,"/dogs/").concat(e,"/comments/").concat(t),W())}function _(e){return I.a.post("".concat(L,"/dogs"),e,W())}function M(e,t){return I.a.put("".concat(L,"/dogs/").concat(t),e,W())}function q(e){return I.a.delete("".concat(L,"/dogs/").concat(e),W())}function U(e){return I.a.post("".concat(L,"/register"),e)}function R(e){return I.a.post("".concat(L,"/login"),e)}var J=function(){var e=Object(l.i)().dogId,t=s.a.useState(null),c=Object(y.a)(t,2),a=c[0],n=c[1],i=s.a.useState({favouritedBy:[]}),o=Object(y.a)(i,2),d=o[0],j=o[1],O=s.a.useState({text:""}),x=Object(y.a)(O,2),v=x[0],f=x[1],g=b(),w=h(),G=Object(l.g)();s.a.useEffect((function(){(function(){var t=Object(k.a)(C.a.mark((function t(){var c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e);case 3:c=t.sent,n(c.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[e]);var I=function(){var t=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(d.favouritedBy.push(w)),t.prev=1,t.next=4,T(e,d);case 4:G.push("/favourites"),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}(),L=function(){var t=Object(k.a)(C.a.mark((function t(c){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,t.next=4,H(e,v);case 4:return t.next=6,E(e);case 6:a=t.sent,n(a.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),W=function(){var t=Object(k.a)(C.a.mark((function t(c){var a,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.target.id,t.prev=1,t.next=4,P(e,a);case 4:return t.next=6,E(e);case 6:s=t.sent,n(s.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsx)("section",{className:"section",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(S.a,{position:"top-center",autoClose:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!1}),a&&Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:a.breed}),Object(m.jsxs)("div",{className:"columns",children:[Object(m.jsx)("div",{className:"column is-half",children:Object(m.jsx)("figure",{className:"image",children:Object(m.jsx)("img",{src:a.image,alt:a.breed})})}),Object(m.jsxs)("div",{className:"column is-half",children:[Object(m.jsxs)("div",{className:"content-dogshow",children:[Object(m.jsx)("h5",{children:"Origin"}),Object(m.jsx)("p",{children:a.origin})]}),Object(m.jsxs)("div",{className:"content-dogshow",children:[Object(m.jsxs)("h5",{children:["About the ",a.breed]}),Object(m.jsx)("p",{children:a.description})]}),Object(m.jsxs)("div",{className:"content-dogshow",children:[Object(m.jsx)("h5",{children:"Essential info: "}),a.isGoodWithCats&&Object(m.jsx)("p",{children:" \ud83d\ude3a Can live with cats."}),!a.isGoodWithCats&&Object(m.jsx)("p",{children:" \ud83d\ude3f Can't live with cats."}),a.isCityDog&&Object(m.jsx)("p",{children:" \ud83c\udfe2 Can live in a city."}),!a.isCityDog&&Object(m.jsx)("p",{children:" \ud83c\udf33 Better in the countryside."}),a.isGoodWithChildren&&Object(m.jsx)("p",{children:" \ud83e\uddd2 Good with children."}),!a.isGoodWithChildren&&Object(m.jsx)("p",{children:" \ud83d\udc69 Better in a child free home."})]}),Object(m.jsxs)("div",{className:"content-dogshow",children:[Object(m.jsx)("h5",{children:"Characteristics"}),a.characteristics&&a.characteristics.map((function(e){return Object(m.jsx)("ul",{children:Object(m.jsx)("li",{children:Object(m.jsxs)("p",{children:["\ud83d\udc97 ",e]})})},e)}))]}),u(a.addedBy._id)&&a&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{className:"button is-danger",onClick:function(){S.b.error("Click here to permanently delete, or back to cancel",{position:"top-center",autoClose:!1,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!1,progress:void 0,onClick:function(){var t=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q(e);case 3:G.push("/dogs"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}()})},id:"delete",children:"Delete"}),Object(m.jsx)(r.b,{to:"/dogs/".concat(e,"/edit"),className:"button is-warning",children:"Edit"})]}),Object(m.jsxs)("div",{className:"content-dogshow",children:[Object(m.jsx)("h5",{children:"Comments"}),a.comments&&a.comments.map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:e.text}),Object(m.jsx)("p",{children:e.addedBy.username}),Object(m.jsx)("button",{className:"button",id:e._id,onClick:W,children:"X"})]},e._id)}))]}),Object(m.jsxs)("div",{className:"content-dogshow",children:[g&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{className:"button",onClick:I,name:"favouritedBy",id:"favourite",children:"Add to Favourites"}),Object(m.jsx)("form",{onSubmit:L,children:Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Leave a comment \ud83d\udc3e"}),Object(m.jsx)("input",{type:"textarea",className:"textarea",onChange:function(e){f(Object(p.a)(Object(p.a)({},v),{},Object(N.a)({},e.target.name,e.target.value)))},name:"text",value:v.text}),Object(m.jsx)("button",{className:"button",children:"Submit"})]})})]}),!g&&Object(m.jsxs)("div",{className:"content-dogshow",children:[Object(m.jsx)("p",{children:"Like this dog? Sign up or login to add them to your favourites!"}),Object(m.jsx)("a",{className:"backtodogs",href:"/dogs",children:"Back to dogs"})]})]})]})]})]},a.breed)]})})})};var V=function(e){var t=e.dog;return Object(m.jsx)("div",{className:"column is-one-quarter-desktop is-one-third-tablet",children:Object(m.jsx)(r.b,{to:"/dogs/".concat(t._id),children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("div",{className:"card-header",children:Object(m.jsx)("div",{className:"card-header-title",children:t.breed})}),Object(m.jsx)("div",{className:"card-image",children:Object(m.jsx)("figure",{className:"image image-is-1by1",children:Object(m.jsx)("img",{src:t.image,alt:t.breed})})}),Object(m.jsxs)("div",{className:"card-content",children:[Object(m.jsx)("h4",{children:"Essential Info"}),Object(m.jsxs)("div",{className:"essential-info",children:[t.isGoodWithCats&&Object(m.jsx)("h5",{children:" \ud83d\ude3a I can live with cats."}),!t.isGoodWithCats&&Object(m.jsx)("h5",{children:" \ud83d\ude3f I can't live with cats."}),t.isCityDog&&Object(m.jsx)("h5",{children:" \ud83c\udfe2 I'm city ready."}),!t.isCityDog&&Object(m.jsx)("h5",{children:" \ud83c\udf33 Countryside suits me."}),t.isGoodWithChildren&&Object(m.jsx)("h5",{children:" \ud83e\uddd2 I am good with children."}),!t.isGoodWithChildren&&Object(m.jsx)("h5",{children:" \ud83d\udc69 I prefer a child free home."})]})]})]})})})};var X=function(){return Object(m.jsx)("section",{className:"hero is-medium",children:Object(m.jsx)("div",{className:"hero-body",children:Object(m.jsx)("h5",{children:"Loading dogs...\ud83d\udc36"})})})};var Q=function(){var e=s.a.useState(null),t=Object(y.a)(e,2),c=t[0],a=t[1],n=!c;s.a.useEffect((function(){(function(){var e=Object(k.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F();case 3:t=e.sent,a(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var i=s.a.useState({breed:"",size:"",walkLength:"",isGoodWithChildren:!1,isGoodWithCats:"",isCityDog:""}),r=Object(y.a)(i,2),l=r[0],o=r[1],d=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;o(Object(p.a)(Object(p.a)({},l),{},Object(N.a)({},e.target.name,t)))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"search-filter-wrapper",children:Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Search"}),Object(m.jsx)("input",{className:"input",placeholder:"Search by breed",name:"breed",onChange:d,value:l.breed})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Filter by Size"}),Object(m.jsx)("div",{className:"select",children:Object(m.jsxs)("select",{name:"size",onChange:d,value:l.size,children:[Object(m.jsx)("option",{value:"",children:" Select an option"}),Object(m.jsx)("option",{value:"small",children:" Small"}),Object(m.jsx)("option",{value:"medium",children:" Medium"}),Object(m.jsx)("option",{value:"large",children:" Large"})]})})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Filter by Walk length"}),Object(m.jsx)("div",{className:"select",children:Object(m.jsxs)("select",{name:"walkLength",onChange:d,value:l.walkLength,children:[Object(m.jsx)("option",{value:"",children:" Select an option"}),Object(m.jsx)("option",{value:"0.5",children:" Half an hour"}),Object(m.jsx)("option",{value:"1",children:" An hour"}),Object(m.jsx)("option",{value:"2",children:" Two hours"}),Object(m.jsx)("option",{value:"3",children:" Three hours"})]})})]}),Object(m.jsx)("div",{className:"field",children:Object(m.jsx)("button",{className:"button",onClick:function(e){e.preventDefault(),o({breed:"",size:"",walkLength:"",isGoodWithChildren:!1,isGoodWithCats:"",isCityDog:""})},children:"Reset filters"})})]})}),Object(m.jsx)("section",{className:"is-full-height",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"columns is-multiline",children:[n&&Object(m.jsx)(X,{}),c&&c.filter((function(e){return e.breed.toLowerCase().includes(l.breed.toLowerCase())&&e.size.toLowerCase().includes(l.size.toLowerCase())&&e.walkLength.toString().toLowerCase().includes(l.walkLength.toLowerCase())})).map((function(e){return Object(m.jsx)(V,{dog:e},e.breed)}))]})})})]})},Z=c(32);var Y=function(e){var t=e.value,c=e.onChange,a=function(){var e=Object(k.a)(C.a.mark((function e(t){var a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t.target.files[0]),a.append("upload_preset","ite2xxl1"),e.next=5,I.a.post("https://api.cloudinary.com/v1_1/hollylouisarose/image/upload",a);case 5:s=e.sent,c(s.data.url);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[t&&Object(m.jsx)("div",{children:Object(m.jsx)("img",{alt:"dogimage",src:t})}),!t&&Object(m.jsx)("div",{className:"file is-boxed is-fullwidth has-text-centered",children:Object(m.jsxs)("label",{className:"file-label",children:[Object(m.jsx)("input",{className:"file-input",type:"file",name:name,onChange:a}),Object(m.jsx)("span",{className:"file-cta",children:Object(m.jsx)("span",{className:"file-label",children:"Choose a file\u2026"})})]})})]})};var K=function(){var e=s.a.useState(D),t=Object(y.a)(e,2),c=t[0],a=t[1],n=s.a.useState(D),i=Object(y.a)(n,2),r=i[0],o=i[1],d=!c,j=Object(l.g)(),b=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;a(Object(p.a)(Object(p.a)({},c),{},Object(N.a)({},e.target.name,t))),o(Object(p.a)(Object(p.a)({},r),{},Object(N.a)({},e.target.name,"")))},h=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,_(c);case 4:j.push("/dogs"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),o(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("section",{className:"section",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"columns",children:[d&&Object(m.jsx)(X,{}),Object(m.jsxs)("form",{className:"column is-half is-offset-one-quarter box",onSubmit:h,children:[Object(m.jsx)("h3",{children:"Think we've missed a dog? Add your favourite!"}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Breed"}),Object(m.jsxs)("div",{className:"control",children:[r.breed&&Object(m.jsx)("p",{className:"error-text",children:r.breed}),Object(m.jsx)("input",{className:"input ".concat(r.breed?"is-danger":""),placeholder:"Breed",name:"breed",onChange:b,value:c.breed})]})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:" Origin"}),Object(m.jsxs)("div",{className:"control",children:[r.origin&&Object(m.jsx)("p",{className:"error-text",children:r.origin}),Object(m.jsx)("input",{className:"input ".concat(r.origin?"is-danger":""),placeholder:"Origin",name:"origin",onChange:b,value:c.origin})]})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Image"}),Object(m.jsxs)("div",{className:"control",children:[r.image&&Object(m.jsx)("p",{className:"error-text",children:r.image}),Object(m.jsx)(Y,{className:"input ".concat(r.image?"is-danger":""),name:"image",onChange:function(e){a(Object(p.a)(Object(p.a)({},c),{},{image:e}))},value:c.image}),Object(m.jsx)("div",{onClick:function(){a(Object(p.a)(Object(p.a)({},c),{},{image:""}))},children:Object(m.jsx)("button",{className:"button is-danger",children:"Remove Image"})})]})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Description"}),Object(m.jsxs)("div",{className:"control",children:[r.description&&Object(m.jsx)("p",{className:"error-text",children:r.description}),Object(m.jsx)("input",{className:"textarea ".concat(r.description?"is-danger":""),type:"textarea",placeholder:"Breed description",name:"description",onChange:b,value:c.description})]})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Size"}),r.size&&Object(m.jsx)("p",{className:"error-text",children:r.size}),Object(m.jsx)("div",{className:"select ".concat(r.description?"is-danger":""),children:Object(m.jsxs)("select",{name:"size",onChange:b,value:c.size,children:[Object(m.jsx)("option",{value:"",children:" Select an option"}),Object(m.jsx)("option",{value:"small",children:" Small"}),Object(m.jsx)("option",{value:"medium",children:" Medium"}),Object(m.jsx)("option",{value:"large",children:" Large"})]})})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Walk length"}),r.walkLength&&Object(m.jsx)("p",{className:"error-text",children:r.walkLength}),Object(m.jsx)("div",{className:"select ".concat(r.walkLength?"is-danger":""),children:Object(m.jsxs)("select",{name:"walkLength",onChange:b,value:c.walkLength,children:[Object(m.jsx)("option",{value:"",children:" Select an option"}),Object(m.jsx)("option",{value:"0.5",children:" Half an hour"}),Object(m.jsx)("option",{value:"1",children:" An hour"}),Object(m.jsx)("option",{value:"2",children:" Two hours"}),Object(m.jsx)("option",{value:"3",children:" Three hours"})]})})]}),Object(m.jsx)("div",{className:"field",children:Object(m.jsxs)("label",{className:"checkbox label",children:["Good with children",Object(m.jsx)("input",{type:"checkbox",name:"isGoodWithChildren",onChange:b,checked:c.isGoodWithChildren})]})}),Object(m.jsx)("div",{className:"field",children:Object(m.jsxs)("label",{className:"checkbox label",children:["Good with cats",Object(m.jsx)("input",{type:"checkbox",name:"isGoodWithCats",onChange:b,checked:c.isGoodWithCats})]})}),Object(m.jsx)("div",{className:"field",children:Object(m.jsxs)("label",{className:"checkbox label",children:["Can live in a city",Object(m.jsx)("input",{type:"checkbox",name:"isCityDog",onChange:b,checked:c.isCityDog})]})}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Characteristics"}),Object(m.jsx)("div",{className:"control",children:Object(m.jsx)(Z.a,{options:B,isMulti:!0,onChange:function(e){return function(e,t){var s=e?e.map((function(e){return e.value})):[];a(Object(p.a)(Object(p.a)({},c),{},Object(N.a)({},t,s)))}(e,"characteristics")},value:c.characteristics.map((function(e){return{label:e[0].toUpperCase()+e.substring(1),value:e}}))})})]}),Object(m.jsx)("div",{className:"field",children:Object(m.jsx)("button",{type:"submit",className:"button is-fullwidth",children:"Add Dog"})})]})]})})})};var $=function(){var e=Object(l.i)().dogId,t=s.a.useState(D),c=Object(y.a)(t,2),a=c[0],n=c[1],i=s.a.useState(D),r=Object(y.a)(i,2),o=r[0],d=r[1],j=!a,b=Object(l.g)();s.a.useEffect((function(){(function(){var t=Object(k.a)(C.a.mark((function t(){var c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e);case 3:c=t.sent,n(c.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[e]);var h=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;n(Object(p.a)(Object(p.a)({},a),{},Object(N.a)({},e.target.name,t)))},u=function(){var t=Object(k.a)(C.a.mark((function t(c){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,t.next=4,M(a,e);case 4:b.push("/dogs/".concat(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),d(t.t0.response.data);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsx)("section",{className:"section",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"columns",children:[j&&Object(m.jsx)(X,{}),Object(m.jsxs)("form",{className:"column is-half is-offset-one-quarter box",onSubmit:u,children:[Object(m.jsx)("h3",{children:"Think we've missed a dog? Add your favourite!"}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Breed"}),Object(m.jsx)("div",{className:"control",children:Object(m.jsx)("input",{className:"input",placeholder:"Breed",name:"breed",onChange:h,value:a.breed})})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:" Origin"}),Object(m.jsx)("div",{className:"control",children:Object(m.jsx)("input",{className:"input",placeholder:"Origin",name:"origin",onChange:h,value:a.origin})})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Image"}),Object(m.jsxs)("div",{className:"control",children:[Object(m.jsx)(Y,{className:"input ".concat(o.image?"is-danger":""),name:"image",onChange:function(e){n(Object(p.a)(Object(p.a)({},a),{},{image:e}))},value:a.image}),Object(m.jsx)("div",{onClick:function(){n(Object(p.a)(Object(p.a)({},a),{},{image:""}))},children:Object(m.jsx)("button",{className:"button is-danger",children:"Remove Image"})})]})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Description"}),Object(m.jsx)("div",{className:"control",children:Object(m.jsx)("input",{className:"textarea",type:"textarea",placeholder:"Breed description",name:"description",onChange:h,value:a.description})})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Size"}),Object(m.jsx)("div",{className:"select",children:Object(m.jsxs)("select",{name:"size",className:"select",onChange:h,value:a.size,children:[Object(m.jsx)("option",{value:"",children:" Select an option"}),Object(m.jsx)("option",{value:"small",children:" Small"}),Object(m.jsx)("option",{value:"medium",children:" Medium"}),Object(m.jsx)("option",{value:"large",children:" Large"})]})})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Walk length"}),Object(m.jsx)("div",{className:"select",children:Object(m.jsxs)("select",{name:"walkLength",onChange:h,value:a.walkLength,children:[Object(m.jsx)("option",{value:"",children:" Select an option"}),Object(m.jsx)("option",{value:"0.5",children:" Half an hour"}),Object(m.jsx)("option",{value:"1",children:" An hour"}),Object(m.jsx)("option",{value:"2",children:" Two hours"}),Object(m.jsx)("option",{value:"3",children:" Three hours"})]})})]}),Object(m.jsx)("div",{className:"field",children:Object(m.jsxs)("label",{className:"checkbox label",children:["Good with children",Object(m.jsx)("input",{type:"checkbox",name:"isGoodWithChildren",onChange:h,checked:a.isGoodWithChildren})]})}),Object(m.jsx)("div",{className:"field",children:Object(m.jsxs)("label",{className:"checkbox label",children:["Good with cats",Object(m.jsx)("input",{type:"checkbox",name:"isGoodWithCats",onChange:h,checked:a.isGoodWithCats})]})}),Object(m.jsx)("div",{className:"field",children:Object(m.jsxs)("label",{className:"checkbox label",children:["Can live in a city",Object(m.jsx)("input",{type:"checkbox",name:"isCityDog",onChange:h,checked:a.isCityDog})]})}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Characteristics"}),Object(m.jsx)("div",{className:"control",children:Object(m.jsx)(Z.a,{options:B,isMulti:!0,onChange:function(e){return function(e,t){var c=e?e.map((function(e){return e.value})):[];n(Object(p.a)(Object(p.a)({},a),{},Object(N.a)({},t,c)))}(e,"characteristics")},value:a.characteristics.map((function(e){return{label:e[0].toUpperCase()+e.substring(1),value:e}}))})})]}),Object(m.jsx)("div",{className:"field",children:Object(m.jsx)("button",{type:"submit",className:"button is-fullwidth",children:"Save Changes"})})]})]})})})};var ee=function(){var e=Object(l.g)(),t=s.a.useState(z),c=Object(y.a)(t,2),a=c[0],n=c[1],i=s.a.useState(z),r=Object(y.a)(i,2),o=r[0],d=r[1],j=function(e){n(Object(p.a)(Object(p.a)({},a),{},Object(N.a)({},e.target.name,e.target.value))),d(Object(p.a)(Object(p.a)({},o),{},Object(N.a)({},e.target.name,"")))},b=function(){var t=Object(k.a)(C.a.mark((function t(c){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,t.next=4,U(a);case 4:e.push("/login"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),d(t.t0.response.data);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsx)("section",{className:"section full-height",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"columns",children:Object(m.jsxs)("form",{className:"column is-half is-offset-one-quarter box",onSubmit:b,children:[Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:" Username"}),Object(m.jsxs)("div",{className:"control",children:[o.username&&Object(m.jsx)("p",{className:"error-text",children:o.username}),Object(m.jsx)("input",{className:"input ".concat(o.username?"is-danger":""),placeholder:"Username",name:"username",onChange:j})]})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:" Email"}),Object(m.jsxs)("div",{className:"control",children:[o.email&&Object(m.jsx)("p",{className:"error-text",children:o.email}),Object(m.jsx)("input",{className:"input ".concat(o.email?"is-danger":""),placeholder:"Enter your email",name:"email",onChange:j})]})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:"Password"}),Object(m.jsxs)("div",{className:"control",children:[o.password&&Object(m.jsx)("p",{className:"error-text",children:o.password}),Object(m.jsx)("input",{className:"input ".concat(o.password?"is-danger":""),placeholder:"Enter your password",name:"password",type:"password",onChange:j})]})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:" Password confirmation"}),Object(m.jsxs)("div",{className:"control",children:[o.passwordConfirmation&&Object(m.jsx)("p",{className:"error-text",children:o.passwordConfirmation}),Object(m.jsx)("input",{className:"input ".concat(o.passwordConfirmation?"is-danger":""),placeholder:"Confirm your password",name:"passwordConfirmation",type:"password",onChange:j})]})]}),Object(m.jsx)("div",{className:"field",children:Object(m.jsx)("button",{type:"submit",className:"button is-fullwidth",children:"Sign up"})})]})})})})};var te=function(){var e=Object(l.g)(),t=s.a.useState(A),c=Object(y.a)(t,2),a=c[0],n=c[1],i=s.a.useState(!1),r=Object(y.a)(i,2),o=r[0],d=r[1],j=function(e){n(Object(p.a)(Object(p.a)({},a),{},Object(N.a)({},e.target.name,e.target.value))),d(!1)},b=function(){var t=Object(k.a)(C.a.mark((function t(c){var s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,t.next=4,R(a);case 4:s=t.sent,n=s.data.token,window.localStorage.setItem("token",n),e.push("/dogs"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),d(!0);case 12:case"end":return t.stop()}var n}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsx)("section",{className:"section full-height",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"columns",children:Object(m.jsxs)("form",{className:"column is-half is-offset-one-quarter box",onSubmit:b,children:[Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:" Email"}),Object(m.jsx)("div",{className:"control",children:Object(m.jsx)("input",{className:"input",placeholder:"Enter your email",name:"email",onChange:j})})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("label",{className:"label",children:" Password"}),Object(m.jsx)("div",{className:"control",children:Object(m.jsx)("input",{className:"input",placeholder:"Enter your password",name:"password",type:"password",onChange:j})})]}),o&&Object(m.jsx)("p",{className:"has-text-centered",children:"Oops! Incorrect login details"}),Object(m.jsx)("div",{className:"field",children:Object(m.jsx)("button",{type:"submit",className:"button is-fullwidth",children:"Log in "})})]})})})})};var ce=function(){var e=s.a.useState(null),t=Object(y.a)(e,2),c=t[0],a=t[1],n=s.a.useState(""),i=Object(y.a)(n,2),r=i[0],l=i[1],o=!c;s.a.useEffect((function(){(function(){var e=Object(k.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F();case 3:t=e.sent,a(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[r]);var d=function(){var e=Object(k.a)(C.a.mark((function e(t){var c,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.target.id,e.prev=1,e.next=4,T(c);case 4:a=e.sent,l(a.data.favouritedBy),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("section",{className:"is-full-height",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"columns is-multiline",children:[o&&Object(m.jsx)(X,{}),c&&function(){var e=h();return c.filter((function(t){return t.favouritedBy.includes(e),t.favouritedBy.includes(e)}))}().map((function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"column is-one-quarter-desktop is-one-third-tablet",children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("div",{className:"card-header",children:Object(m.jsx)("div",{className:"card-header-title",children:e.breed})}),Object(m.jsx)("div",{className:"card-image",children:Object(m.jsx)("figure",{className:"image image-is-1by1",children:Object(m.jsx)("img",{src:e.image,alt:e.breed})})}),Object(m.jsxs)("div",{className:"card-content",children:[Object(m.jsx)("h4",{children:"Essential Info"}),Object(m.jsxs)("div",{className:"essential-info",children:[e.isGoodWithCats&&Object(m.jsx)("h5",{children:" \ud83d\ude3a I can live with cats."}),!e.isGoodWithCats&&Object(m.jsx)("h5",{children:" \ud83d\ude3f I can't live with cats."}),e.isCityDog&&Object(m.jsx)("h5",{children:" \ud83c\udfe2 I'm city ready."}),!e.isCityDog&&Object(m.jsx)("h5",{children:" \ud83c\udf33 Countryside suits me."}),e.isGoodWithChildren&&Object(m.jsx)("h5",{children:" \ud83e\uddd2 I am good with children."}),!e.isGoodWithChildren&&Object(m.jsx)("h5",{children:" \ud83d\udc69 I prefer a child free home."})]}),Object(m.jsx)("button",{id:e.id,onClick:d,className:"button",children:"Remove"})]})]})},e.id)})}))]})})})},ae=c(35);var se=function(){var e=s.a.useState({latitude:51,longitude:0,zoom:8}),t=Object(y.a)(e,2),c=t[0],a=t[1],n=s.a.useState([]),i=Object(y.a)(n,2),r=i[0],l=i[1],o=s.a.useState(null),d=Object(y.a)(o,2),j=d[0],b=d[1];return s.a.useEffect((function(){(function(){var e=Object(k.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("".concat(L,"/centres"));case 3:t=e.sent,l(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("section",{className:"hero",children:Object(m.jsxs)("div",{className:"hero-body white",children:[Object(m.jsx)("h2",{children:"Looking to adopt?"}),Object(m.jsx)("p",{children:"Use the map below to find a centre near you! \ud83d\udc97"})]})}),Object(m.jsx)("div",{className:"map-container",children:Object(m.jsxs)(ae.c,Object(p.a)(Object(p.a)({mapboxApiAccessToken:"pk.eyJ1IjoiaG9sbHlsb3Vpc2Fyb3NlIiwiYSI6ImNrc2czMndvZTB5dWoyb251amIzMXdtenIifQ.8ZoDROeyA7UFNy_QdXlVeA",height:"100%",width:"100%",mapStyle:"mapbox://styles/mapbox/light-v10"},c),{},{onClick:function(){return b(null)},onViewportChange:function(e){return a(e)},children:[r.map((function(e){return Object(m.jsx)(ae.a,{latitude:e.latitude,longitude:e.longitude,children:Object(m.jsx)("span",{role:"img","aria-label":"map-marker",onClick:function(){return b(e)},children:e.icon})},e.id)})),j&&Object(m.jsx)(ae.b,{closeOnClick:!0,onClose:function(){return b(null)},latitude:j.latitude,longitude:j.longitude,children:Object(m.jsxs)("div",{children:[j.name,r.map((function(e){if(j.name===e.name)return Object(m.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"map-link",children:"Visit Website"})}))]})})]}))})]})};var ne=function(){return Object(m.jsx)("footer",{className:"footer",children:Object(m.jsxs)("div",{className:"content has-text-centered",children:[Object(m.jsxs)("p",{children:["All dog breed info from:",Object(m.jsx)("br",{}),Object(m.jsx)("a",{href:"https://dogtime.com/",target:"_blank",rel:"noopener noreferrer",children:" DogTime"})]}),Object(m.jsxs)("p",{children:["Made by Holly Stratton, 2021",Object(m.jsx)("br",{}),Object(m.jsx)("a",{href:"https://github.com/hollylouisarose/pawfectpal-frontend",target:"_blank",rel:"noopener noreferrer",children:"Holly's GitHub"})]})]})})};var ie=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(r.a,{children:[Object(m.jsx)(O,{}),Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{exact:!0,path:"/",children:Object(m.jsx)(x,{})}),Object(m.jsx)(g,{path:"/dogs/new",children:Object(m.jsx)(K,{})}),Object(m.jsx)(g,{path:"/dogs/:dogId/edit",children:Object(m.jsx)($,{})}),Object(m.jsx)(l.b,{path:"/dogs/:dogId",children:Object(m.jsx)(J,{})}),Object(m.jsx)(l.b,{path:"/dogs",children:Object(m.jsx)(Q,{})}),Object(m.jsx)(l.b,{path:"/register",children:Object(m.jsx)(ee,{})}),Object(m.jsx)(l.b,{path:"/login",children:Object(m.jsx)(te,{})}),Object(m.jsx)(g,{path:"/favourites",children:Object(m.jsx)(ce,{})}),Object(m.jsx)(l.b,{path:"/map",children:Object(m.jsx)(se,{})})]}),Object(m.jsx)(ne,{})]})})};i.a.render(Object(m.jsx)(ie,{}),document.getElementById("root"))},60:function(e,t,c){}},[[101,1,2]]]);
//# sourceMappingURL=main.2cca5071.chunk.js.map